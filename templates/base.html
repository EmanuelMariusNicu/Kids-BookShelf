{% load static %}

<!doctype html>
<html lang="en">
  <head>

    {% block meta %}
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    {% endblock %}

    {% block extra_meta %}
    {% endblock %} 

    {% block corecss %}
		<link rel="stylesheet" href="{% static 'css/base.css' %}">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
		<link rel="preconnect" href="https://fonts.gstatic.com"
    {% endblock %}

    {% block extra_css %}
    {% endblock %}

    {% block corejs %}
		<script src="https://code.iconify.design/iconify-icon/1.0.1/iconify-icon.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
		
    {% endblock %}

    {% block extra_js %}

    {% endblock %}
    <title>KidsBookShelf {% block extra_title %}{% endblock %}</title>
  </head>
  <body>
	
    {% block page_header %}
    <!-- PAGE HEADER - START -->
	<header class="fixed top">
		<div class="header-banner d-flex justify-content-between align-items-center">
			<div class="logo-container">
				<img class="navbar-brand logo" src="/static/images/new_logo.jpg" width="200"  height="130"  href="{% url 'home' %}" aria-label="home link">
			</div>
			<div class="col-12 col-lg-4 my-auto py-1 py-lg-0">
				<form method="GET" action="{% url 'products' %}">
					<div class="input-group w-100">
						<input class="form-control border" type="search" name="q" placeholder="Search for books"
							aria-label="Search">
						<div class="input-group-append">
							<button class="form-control btn" type="submit" aria-label="search">
								<span class="icon">
									<i class="fas fa-search icon"></i>
								</span>
							</button>
						</div>
					</div>
				</form>
			</div>
			
			<div class="banner-info d-none d-md-block">
				<span class="banner-info_delivery text-muted"><iconify-icon inline icon="ph:map-pin"></iconify-icon> The online library</span>
				<span class="banner-info_email text-muted"><iconify-icon inline icon="entypo:email"></iconify-icon>Kidsbookshelf.com</span>
				<span class="banner-info_phone text-muted"><iconify-icon inline icon="ph:phone-light"></iconify-icon> 002500877</span>
			</div>
		</div>
		<!-- NAVIGATION - START -->
		<nav class="navbar navbar-expand-md bg-body-tertiary">
			<button class="navbar-toggler btn btn-colour-bg" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
				<span class="toggler-icon"><iconify-icon icon="circum:menu-burger"></iconify-icon></span>
			</button>
			<div class="w-100 d-flex justify-content-between">	
				<div class="collapse navbar-collapse" id="navbarNavDropdown">
					<ul class="navbar-nav w-100 d-flex justify-content-between">
						<li class="nav-item">
							<a class="nav-link" aria-current="page" href="{% url 'home' %}">Home</a>
						</li>
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" href="" role="button" data-bs-toggle="dropdown" aria-expanded="false">
								Books-Shelf
							</a>
							<ul class="dropdown-menu">
								<li><a class="dropdown-item" href="{% url 'categories' %}">All</a></li>
								<li><a class="dropdown-item" href="{% url 'products' %}?category=Sensorial">Sensorial</a></li>
								<li><a class="dropdown-item" href="{% url 'products' %}?category=Fairytale">Fairytale</a></li>
								<li><a class="dropdown-item" href="{% url 'products' %}?category=Non Fiction">Non Fiction</a></li>
								<li><a class="dropdown-item" href="{% url 'products' %}?category=Large prints">Large prints</a></li>
							</ul>
						</li>
						<li class="nav-item">
							<a class="nav-link" aria-current="page" href="{% url 'forum' %}" >Forum</a>	
						</li>
						<li class="nav-item">
							<a class="nav-link" href="{% url 'about' %}">About Us</a>
						</li>
						{% if request.user.is_authenticated %}
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" href="" role="button" data-bs-toggle="dropdown" aria-expanded="false">
								Profile
							</a>
							<ul class="dropdown-menu">
								<li><a class="dropdown-item" href="{% url 'profile' %}">Manage Profile</a></li>
								{% if request.user.is_superuser %}
								<li><a class="dropdown-item" href="{% url 'add_product' %}">Manage Products</a></li>
								<li><a class="dropdown-item" href="{% url 'create_entry' %}">Post in Forum</a></li>
								{% endif %}
							</ul>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="{% url 'account_logout' %}">Logout</a>
						</li>
						{% else %}
						<li class="nav-item">
							<a class="nav-link" href="{% url 'account_login' %}">Login</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="{% url 'account_signup' %}">Sign Up</a>
						</li>
						{% endif %}
						<li class="nav-item basket-link">
							<a class="nav-link" href="{% url 'basket' %}">
								<iconify-icon inline icon="fluent-emoji-high-contrast:basket" style="color: black;"></iconify-icon> Basket 
								{% if basket_items %}
									<span class="basket-items-count">&#40;{{ request.session.basket.keys | length }}&#41;</span>
								{% endif %}
							</a>
						</li>
						
						
					</ul>
				</div>
			</div>
		</nav>
		<!-- NAVIGATION - END -->
	{% endblock %}
	</header>
	<!-- PAGE HEADER - END -->

    {% if messages %}
        <div class="message-container"></div>
    {% endif %}

    
	<!-- MAIN PAGE CONTENT -->
	<div class="container mb-5">
	{% block content %}
	{% endblock %}
	</div>

	<!-- PAGE FOOTER - START -->
	<footer>	
		<div class="social-media-container">
			<a href="https://www.facebook.com/" target="_blank" rel="noopener noreferrer" class="social-link"
           	 	aria-label="Facebook"><iconify-icon icon="ri:facebook-box-fill" style="color: black;" class="social-icon"></iconify-icon></a>
			<a href="https://www.instagram.com/" target="_blank" rel="noopener noreferrer" class="social-link"
				aria-label="Instagram"><iconify-icon icon="ph:instagram-logo" style="color: black;" class="social-icon"></iconify-icon></a>
			<a href="https://www.linkedin.com/" target="_blank" rel="noopener noreferrer" class="social-link"
				aria-label="Linkedin"><iconify-icon icon="ph:linkedin-logo" style="color: black;" class="social-icon"></iconify-icon></a>
		</div>
		<a  class="privacy-link" href="{% url 'privacy' %}">Privacy Policy</a>
		<div class="newsletter-toggle-container">
			<button class="newsletter-toggle" id="newsletter-toggle-btn">
				<iconify-icon inline icon="game-icons:letter-bomb" style="color: black;" width="24"></iconify-icon>
				Get our Newsletter
			</button>
		</div>
	</div>
	<!-- Begin Mailchimp Signup Form -->
	<div id="mc_embed_signup">
		<form action="https://gmail.us17.list-manage.com/subscribe/post?u=a885c08eee6ef78956b3dcafd&amp;id=12d6cb3619&amp;f_id=00e556e0f0" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
			<div id="mc_embed_signup_scroll">
				<h2>Subscribe to our Newsletter</h2>
				<div class="mc-field-group">
					<label for="mce-EMAIL">Email Address (required) <span class="asterisk">*</span></label>
					<input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" required>
					<span id="mce-EMAIL-HELPERTEXT" class="helper_text d-none"></span>
				</div>
				<div id="mce-responses" class="clear foot">
					<div class="response" id="mce-error-response" style="display:none"></div>
					<div class="response" id="mce-success-response" style="display:none"></div>
				</div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
				<div style="position: absolute; left: -5000px;" aria-hidden="true">
					<input type="text" name="b_a885c08eee6ef78956b3dcafd_12d6cb3619" tabindex="-1" value="">
				</div>
				<div class="optionalParent">
					<div class="clear foot">
						<input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button news-submit-btn">
					</div>
				</div>
			</div>
		</form>
	</div>
	
	<!--End mc_embed_signup-->
</footer>
<!-- PAGE FOOTER - END -->

{% block postloadjs %}
	
	<script>
		 // Bootstrap boilerplate JS for toast handling
		let toast = bootstrap.Toast.getOrCreateInstance(document.querySelector('.toast'));
		toast.show(); 
	</script>

	<!-- Newsletter toggle JS -->
	<script>
		let newsToggleBtn = document.getElementById("newsletter-toggle-btn");
		let newsSignupForm = document.getElementById("mc_embed_signup");
		newsToggleBtn.addEventListener("click", toggleNewsletterForm);
		
		// source code: https://www.w3schools.com/howto/howto_js_toggle_hide_show.asp
		function toggleNewsletterForm() {
			if (newsSignupForm.style.display === "block") {
				newsSignupForm.style.display = "none";
			} else {
				newsSignupForm.style.display = "block";
			}
		}
	</script>

	<!-- Mailchimp JS -->
	<script src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script>
	<script>
		(function($) {
			window.fnames = new Array(); 
			window.ftypes = new Array();
			fnames[0]='EMAIL';
			ftypes[0]='email';
			fnames[1]='FNAME';
			ftypes[1]='text';
			fnames[2]='LNAME';
			ftypes[2]='text';
			fnames[3]='ADDRESS';
			ftypes[3]='address';
			fnames[4]='PHONE';
			ftypes[4]='phone';
			fnames[5]='BIRTHDAY';
			ftypes[5]='birthday';
		}(jQuery));
		var $mcj = jQuery.noConflict(true);
	</script>
{% endblock %}
</body>
</html>
	